{"ast":null,"code":"import _objectSpread from \"/Users/harim/Desktop/momentum/reacthooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/harim/Desktop/momentum/reacthooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport defaultAxios from \"axios\";\nimport { useEffect, useState } from \"react\";\n\nvar useAxios = function useAxios(opts) {\n  var axiosInstance = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultAxios;\n\n  var _useState = useState({\n    loading: true,\n    error: null,\n    data: null\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      trigger = _useState4[0],\n      setTrigger = _useState4[1];\n\n  var refetch = function refetch() {\n    setState(_objectSpread({}, state, {\n      loading: true\n    }));\n    setTrigger(Date.now());\n  };\n\n  useEffect(function () {\n    if (!opts.url) {\n      return;\n    }\n\n    axiosInstance(opts).then(function (data) {\n      setState(_objectSpread({}, state, {\n        loading: false,\n        data: data\n      }));\n    }).catch(function (error) {\n      setState(_objectSpread({}, state, {\n        loading: false,\n        error: error\n      }));\n    });\n  }, [trigger]);\n  return _objectSpread({}, state, {\n    refetch: refetch\n  });\n};\n\nexport default useAxios;","map":{"version":3,"sources":["/Users/harim/Desktop/momentum/reacthooks/src/hooks/useAxios.js"],"names":["defaultAxios","useEffect","useState","useAxios","opts","axiosInstance","loading","error","data","state","setState","trigger","setTrigger","refetch","Date","now","url","then","catch"],"mappings":";;AAAA,OAAOA,YAAP,MAAyB,OAAzB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,IAAD,EAAwC;AAAA,MAAjCC,aAAiC,uEAAjBL,YAAiB;;AAAA,kBAC3BE,QAAQ,CAAC;AAC/BI,IAAAA,OAAO,EAAC,IADuB;AAE/BC,IAAAA,KAAK,EAAC,IAFyB;AAG/BC,IAAAA,IAAI,EAAC;AAH0B,GAAD,CADmB;AAAA;AAAA,MAC9CC,KAD8C;AAAA,MACvCC,QADuC;;AAAA,mBAQvBR,QAAQ,CAAC,CAAD,CARe;AAAA;AAAA,MAQ9CS,OAR8C;AAAA,MAQrCC,UARqC;;AAWrD,MAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AAClBH,IAAAA,QAAQ,mBACDD,KADC;AAEJH,MAAAA,OAAO,EAAC;AAFJ,OAAR;AAIAM,IAAAA,UAAU,CAACE,IAAI,CAACC,GAAL,EAAD,CAAV;AACH,GAND;;AAQAd,EAAAA,SAAS,CAAC,YAAI;AAEV,QAAG,CAACG,IAAI,CAACY,GAAT,EAAa;AACT;AACH;;AAGDX,IAAAA,aAAa,CAACD,IAAD,CAAb,CAAoBa,IAApB,CAAyB,UAAAT,IAAI,EAAI;AAC7BE,MAAAA,QAAQ,mBACDD,KADC;AAEJH,QAAAA,OAAO,EAAC,KAFJ;AAGJE,QAAAA,IAAI,EAAJA;AAHI,SAAR;AAKH,KAND,EAMGU,KANH,CAMS,UAAAX,KAAK,EAAG;AACbG,MAAAA,QAAQ,mBAAKD,KAAL;AAAYH,QAAAA,OAAO,EAAC,KAApB;AAA2BC,QAAAA,KAAK,EAALA;AAA3B,SAAR;AACH,KARD;AAUH,GAjBQ,EAiBP,CAACI,OAAD,CAjBO,CAAT;AAkBA,2BAAWF,KAAX;AAAkBI,IAAAA,OAAO,EAAPA;AAAlB;AACH,CAtCD;;AAyCA,eAAeV,QAAf","sourcesContent":["import defaultAxios from \"axios\";\nimport { useEffect, useState } from \"react\";\n\nconst useAxios = (opts, axiosInstance = defaultAxios) => {\n    const [state, setState] = useState({\n        loading:true,\n        error:null,\n        data:null\n\n    })\n\n    const [trigger, setTrigger] = useState(0)\n\n   \n    const refetch = () => {\n        setState({\n            ...state,\n            loading:true\n        })\n        setTrigger(Date.now());\n    }\n\n    useEffect(()=>{\n\n        if(!opts.url){\n            return;\n        } \n    \n\n        axiosInstance(opts).then(data => {\n            setState({\n                ...state,\n                loading:false,\n                data\n            });\n        }).catch(error =>{\n            setState({...state, loading:false, error})\n        });\n\n    },[trigger]);\n    return {...state, refetch}\n}\n\n\nexport default useAxios;"]},"metadata":{},"sourceType":"module"}